<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title><%= campaign.title %></title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{
  background: linear-gradient(135deg, #1d976c, #93f9b9);
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family: "Segoe UI", sans-serif;
}

.wrapper{
  background:#fff;
  border-radius:25px;
  overflow:hidden;
  box-shadow:0 15px 40px rgba(0,0,0,0.25);
  max-width:1100px;
  width:100%;
}

.left-panel{
  background: linear-gradient(to bottom, #185a9d, #43cea2);
  color:white;
  padding:50px;
}

.left-panel h2{
  font-weight:bold;
}

.form-panel{
  padding:40px;
}

.campaign-img{
  max-height:300px;
  object-fit:cover;
  border-radius:15px;
}

.info p{
  margin-bottom:8px;
}

.btn{
  border-radius:12px;
}
</style>
</head>

<body>

<div class="wrapper row g-0">

  <!-- LEFT PANEL -->
  <div class="col-md-5 left-panel d-flex flex-column justify-content-center">
    <h2><%= campaign.title %></h2>
    <p>Support this campaign and help orphans and needy people.</p>

    <p class="mt-4">
      <strong>‚ÄúYour small help can bring a big smile.‚Äù</strong>
    </p>
  </div>

  <!-- RIGHT PANEL -->
  <div class="col-md-7 form-panel">

    <img 
      src="<%= campaign.imageUrl || 'https://picsum.photos/700/400' %>" 
      class="img-fluid mb-3 campaign-img">

    <div class="info">
      <p><strong>Description:</strong> <%= campaign.description %></p>
      <p><strong>Category:</strong> <%= campaign.category %></p>
      <p><strong>Target Amount:</strong> ‚Çπ<%= campaign.targetAmount %></p>
      <p><strong>Raised Amount:</strong> ‚Çπ<%= campaign.raisedAmount %></p>
      <p><strong>Deadline:</strong>
        <%= new Date(campaign.deadline).toDateString() %>
      </p>
      <p><strong>Created By:</strong> <%= campaign.creator.name %></p>
    </div>

    <!-- BUTTONS -->
    <div class="mt-4 d-flex gap-2 flex-wrap">
      <a href="/api/campaigns" class="btn btn-outline-success">
        ‚¨Ö Back
      </a>

      <a href="/api/donations/<%= campaign._id %>" class="btn btn-outline-success">
        ‚ù§Ô∏è Donate Now
      </a>

      <!-- ONLY NGO OWNER & ACTIVE -->
      <% if (
        user &&
        user.role === "ngo" &&
        campaign.creator._id.toString() === user._id.toString() &&
        campaign.status === "active"
      ) { %>

        <a href="/api/campaigns/<%= campaign._id %>/edit" 
           class="btn btn-warning">
          ‚úè Update
        </a>

        <form action="/api/campaigns/<%= campaign._id %>?_method=DELETE" 
              method="POST" style="display:inline;">
          <button class="btn btn-danger">
            üóë Delete
          </button>
        </form>

      <% } %>
    </div>

  </div>
</div>

</body>
</html>
